{"file":"soul-select.js","mappings":"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","names":["SoulSelect"],"sources":["./src/services/PopoverHelper.ts","./src/components/soul-select/soul-select.scss?tag=soul-select&encapsulation=shadow","./src/components/soul-select/soul-select.tsx"],"sourcesContent":["import {autoUpdate, computePosition, flip, offset, size} from '@floating-ui/dom';\nimport {isDefined} from '../utils/utils';\n\nexport class PopoverHelper {\n\n  private stopAutoUpdate: () => void;\n  private popoverSupported = true;\n  private readonly DISTANCE_REFERENCE_FLOATING = 4;\n\n  public connect(reference: HTMLElement, floating: HTMLElement, maxHeight: string) {\n    this.setPopoverSupport(floating);\n    if (!this.popoverSupported && this.isPopoverInModal(floating)) {\n      floating.classList.add('_popover-in-modal');\n    }\n    const callback = () => {\n      computePosition(reference, floating, {\n        strategy: 'fixed',\n        placement: 'bottom',\n        middleware: [\n          offset(this.DISTANCE_REFERENCE_FLOATING),\n          flip({\n            fallbackPlacements: ['top', 'bottom'],\n            fallbackStrategy: 'initialPlacement',\n            boundary: document.body,\n            padding: 5\n          }),\n          size({\n            apply: ({rects, elements, availableHeight}) => {\n              Object.assign(elements.floating.style, {\n                width: `${rects.reference.width}px`,\n                maxHeight: `min(${availableHeight}px, ${maxHeight})`\n              });\n            },\n            padding: 5,\n            boundary: document.body\n          })\n        ]\n      }).then((computedPosition) => {\n        Object.assign(floating.style, {\n          top: `${computedPosition.y}px`,\n          left: `${computedPosition.x}px`\n        });\n      });\n    };\n\n    this.stopAutoUpdate = autoUpdate(\n      reference,\n      floating,\n      callback,\n    );\n\n  }\n\n  public disconnect() {\n    this.stopAutoUpdate && this.stopAutoUpdate();\n  }\n\n  private setPopoverSupport(element: HTMLElement): void {\n    this.popoverSupported = this.isPopoverSupported(element);\n  }\n\n  private isPopoverInModal(element: HTMLElement) {\n    return isDefined(this.getModalParent(element));\n  }\n\n  private isPopoverSupported(element: HTMLElement): boolean {\n    return (\n      (typeof HTMLElement !== 'undefined' &&\n        typeof HTMLElement.prototype === 'object' &&\n        'popover' in HTMLElement.prototype) && (!element.classList.contains(':popover-open'))\n    );\n  }\n\n  private getModalParent(reference: HTMLElement) {\n    return (reference.getRootNode() as ShadowRoot).host.closest('soul-modal');\n  }\n\n}\n","@use \"modules/base-styles/reset\";\n@use \"modules/core\";\n@use \"modules/components/label\" as label;\n\n@use \"modules/core/mixins/input\";\n@use \"modules/components/badge\";\n@use \"modules/components/indicator\";\n@use \"modules/components/tooltip\";\n\n$_arrow-icon-inline-padding: core.$soul-space-unit-xs;\n$_out-of-the-screen-offset: -9999px;\n\n:host {\n  display: block;\n  --soul-select-input-width: 1fr;\n}\n\n:host([input-only]:not([input-only=\"false\"])) {\n  .soul-select__label,\n  .soul-select__status-message,\n  .soul-select__help,\n  .soul-select__action {\n    display: none;\n  }\n}\n\n.soul-select {\n  display: grid;\n  grid-template-columns: var(--soul-select-input-width) auto;\n  grid-template-rows: auto auto auto auto;\n  grid-template-areas: \"label label\" \"input action\" \"status status\" \"help help\";\n}\n\n.soul-select__label {\n  grid-area: label;\n  @include label.label();\n  @include label.label-input();\n}\n\n.soul-select__additional-label {\n  padding: core.$soul-space-inline-left-3-xs;\n}\n\n.soul-select__additional-label,\n.soul-select__help {\n  @include label.label();\n  @include core.soul-font-weight-regular();\n  @include label.label-reduced();\n}\n\n.soul-select__control {\n  grid-area: input;\n  position: relative;\n  overflow: hidden;\n}\n\n.soul-select__input-icon {\n  display: flex;\n  align-items: center;\n  position: absolute;\n  right: $_arrow-icon-inline-padding;\n  top: 0;\n  bottom: 0;\n  margin: auto 0;\n  height: 100%;\n  pointer-events: none;\n}\n\ninput {\n  &.soul-select__input {\n    @include input.input-element-base();\n    @include core.anchorToContainer();\n    padding-right: core.$soul-space-unit-l;\n\n    &[readonly] {\n      cursor: pointer;\n    }\n\n    &[disabled] {\n      cursor: not-allowed;\n    }\n\n    &:disabled + .soul-select__selection {\n      background-color: core.$soul-color-background-disabled;\n      color: core.$soul-color-text-disabled;\n    }\n  }\n\n  &:valid {\n    &.soul-select__input:not([readonly]):not([disabled]) {\n      & + .soul-select__selection,\n      & ~ .soul-select__placeholder {\n        visibility: hidden;\n      }\n    }\n  }\n}\n\n.soul-select {\n  input.soul-select__input {\n    background-color: core.$soul-choice-color-transparent;\n  }\n}\n\n.soul-select__selection {\n  @include core.soul-font-size(core.$soul-s);\n  @include core.ease-transition(core.$faster, opacity, padding, border, box-shadow);\n  @include core.input-border-base();\n\n  min-height: core.$soul-space-unit-xl;\n  padding-right: core.$soul-space-unit-l;\n  pointer-events: none;\n  display: none;\n}\n\n.soul-select__placeholder {\n  pointer-events: none;\n  display: flex;\n  align-items: center;\n  padding: core.$soul-space-inset-xs;\n}\n\n.soul-select__placeholder,\n.soul-select__selection {\n  background-color: core.$soul-color-background-primary;\n}\n\n.soul-select__status-message {\n  grid-area: status;\n}\n\n.soul-select__help {\n  grid-area: help;\n}\n\n.soul-select__status-message,\n.soul-select__help {\n  padding: core.$soul-space-stack-top-2-xs;\n}\n\n.soul-select__selection:not(:empty) {\n  display: block;\n\n  + .soul-select__placeholder {\n    display: none;\n  }\n}\n\n.soul-select__options {\n  margin: 0;\n  padding: 0;\n  background-color: core.$soul-color-background-primary;\n  border-width: core.$soul-border-thin;\n  border-style: solid;\n  border-color: core.$soul-color-border-on-light;\n  border-radius: core.$soul-border-radius-s;\n}\n\n.soul-select__options {\n\n  box-shadow: core.$box-shadow-natural-m;\n\n  ::slotted(soul-text-option),\n  ::slotted(soul-avatar-option) {\n    padding: core.$soul-space-squish-2-xs;\n  }\n\n  ::slotted(soul-text-option:first-of-type),\n  ::slotted(soul-avatar-option:first-of-type) {\n    padding-top: core.$soul-space-unit-2-xs;\n  }\n\n  ::slotted(soul-text-option:last-of-type),\n  ::slotted(soul-avatar-option:last-of-type) {\n    padding-bottom: core.$soul-space-unit-2-xs;\n  }\n\n  ::slotted(soul-option-group) {\n    padding: core.$soul-space-stack-top-xs;\n  }\n\n  ::slotted(soul-option-group:first-of-type) {\n    padding-top: core.$soul-space-unit-xs;\n  }\n\n  ::slotted(soul-option-group:last-of-type) {\n    padding-bottom: core.$soul-space-unit-3-xs;\n  }\n\n}\n\n.soul-select__option-clone {\n  @include core.out-of-the-screen();\n  top: $_out-of-the-screen-offset;\n}\n\n\n.soul-select--warning,\n.soul-select--critical {\n\n  .soul-select__control {\n    &:after {\n      content: '';\n      position: absolute;\n      right: core.$soul-space-unit-l;\n      top: calc(50% - (#{indicator.$soul-indicator-s-size} / 2));\n      pointer-events: none;\n\n      @include indicator.soul-indicator-s();\n    }\n  }\n\n  .soul-select__input,\n  .soul-select__selection {\n    padding-right: core.$soul-space-unit-2-xl;\n  }\n}\n\n.soul-select--warning {\n\n  .soul-select__control:after {\n    @include indicator.soul-indicator-severity(core.$soul-severity-warning);\n  }\n\n  .soul-select__input {\n    @include input.input-warning();\n  }\n\n  .soul-select__status-message {\n    display: block;\n    color: core.$soul-color-text-indicator-warning;\n  }\n}\n\n.soul-select--critical {\n\n  .soul-select__control:after {\n    @include indicator.soul-indicator-severity(core.$soul-severity-critical);\n  }\n\n  .soul-select__input {\n    @include input.input-negative();\n\n  }\n\n  .soul-select__status-message {\n    display: block;\n    color: core.$soul-color-text-indicator-negative;\n  }\n}\n\n.soul-select__action {\n  grid-area: action;\n  display: var(--_soul-select-action-display, none);\n  align-self: center;\n  padding: core.$soul-space-inline-left-2-xs;\n}\n\n._popover-in-modal.\\:popover-open {\n  position: static;\n}\n\n.soul-select__options-message {\n  padding: core.$soul-space-stack-both-m;\n  text-align: center;\n}\n","import {Component, ComponentInterface, Element, Event, EventEmitter, h, Host, Listen, Prop, State, Watch} from '@stencil/core';\nimport {PopoverHelper} from '../../services/PopoverHelper';\nimport {isDefined, isNotEmpty, isUndefined} from '../../utils/utils';\nimport {isKeyboardKeyAction, Keymap} from '../../utils/Keymap';\nimport {SelectHelper} from '../../services/SelectHelper';\nimport {Components} from '../../components';\nimport SoulTextOption = Components.SoulTextOption;\nimport SoulAvatarOption = Components.SoulAvatarOption;\n\n@Component({\n  tag: 'soul-select',\n  styleUrl: 'soul-select.scss',\n  shadow: true\n})\nexport class SoulSelect implements ComponentInterface {\n\n  @Prop({reflect: true}) public additionalLabel?: string;\n  @Prop({reflect: true}) public disabled: boolean = false;\n  @Prop({reflect: true}) public disableSpaces: boolean = false;\n  @Prop({reflect: true}) public helpText?: string;\n  @Prop({reflect: true}) public inputOnly: boolean = false;\n  @Prop({reflect: true}) public label?: string;\n  @Prop({reflect: true}) public maxHeight = '18rem';\n  @Prop({reflect: true}) public noOptionsMessage = 'No options';\n  @Prop({reflect: true}) public placeholder?: string;\n  @Prop({reflect: true}) public searchable: boolean = false;\n  @Prop({reflect: true}) public stateless: boolean = false;\n  @Prop({reflect: true}) public status: 'warning' | 'critical';\n  @Prop({reflect: true}) public statusMessage?: string;\n  @Prop({reflect: true}) public tooltipPosition: 'top' | 'top-start' | 'top-end' | 'right' | 'right-start' | 'right-end' | 'bottom' | 'bottom-start' | 'bottom-end' | 'left' | 'left-start' | 'left-end' = 'top-start';\n  @Prop() public searchFunction: <K extends HTMLSoulTextOptionElement | HTMLSoulAvatarOptionElement>(option: K, term: string) => boolean;\n\n  @Element() public host: HTMLElement;\n\n  @Event() public soulOptionSelect: EventEmitter<any>;\n  @Event() public soulSearch: EventEmitter<SoulSelectSearchEvent>;\n  @State() private showEmptyOptionMessage = false;\n\n  private actionElement: HTMLSlotElement;\n  private inputElement: HTMLInputElement;\n  private selectionElement: HTMLDivElement;\n  private optionCloneElement: HTMLDivElement;\n  private optionsElement: HTMLSlotElement;\n  private optionListElement: HTMLPopoverElement;\n  private placeholderElement: HTMLDivElement;\n  private selectElement: HTMLDivElement;\n  private tooltipElement: HTMLSoulTooltipElement;\n\n  private supportedStatuses = ['warning', 'critical'];\n  private optionHeightObserver: ResizeObserver;\n  private highlightedIndex = -1;\n  private isPopoverVisible: boolean = false;\n  private readonly instanceId = `js-soul-select-${++selectId}-input`;\n  private popoverHelper: PopoverHelper = new PopoverHelper();\n\n  constructor() {\n    this.optionHeightObserver = new ResizeObserver(this.resizePlaceholderElement.bind(this));\n  }\n\n  public componentDidRender(): void {\n    this.optionListElement.addEventListener('toggle', (event: ToggleEvent) => {\n      if (event.newState === 'closed') {\n        this.isPopoverVisible = false;\n        this.popoverHelper.disconnect();\n        this.resetHighlight();\n      }\n    });\n    this.optionHeightObserver.disconnect();\n    this.optionHeightObserver.observe(this.optionCloneElement);\n    this.setPlaceholderElementHeight();\n    this.setActionSlotVisibility();\n    this.setTooltipTriggerElement();\n  }\n\n  public disconnectedCallback() {\n    this.optionHeightObserver.disconnect();\n    this.popoverHelper.disconnect();\n  }\n\n  @Listen('soulOptionChange')\n  public async onOptionChange(event: CustomEvent<SoulOption>): Promise<void> {\n    await this.updateSelectedOptionClone(event.detail);\n  }\n\n  @Listen('soulOptionHover')\n  public onOptionHover(event: CustomEvent<SoulOption>): void {\n    this.resetHighlight();\n    event.detail.highlighted = true;\n    this.highlightedIndex = this.getOptions().findIndex(option => option.highlighted);\n  }\n\n  @Listen('soulOptionClick')\n  public async onSoulClick(event: CustomEvent<SoulOption>): Promise<void> {\n    await this.selectOption(event.detail);\n  }\n\n  @Listen('soulOptionSelectChange')\n  public async onOptionSelectChange(event: CustomEvent<SoulOption>): Promise<void> {\n    const changedOption = event.detail;\n    this.doOnSelectChange(changedOption, changedOption.selected, false);\n  }\n\n  private async doOnSelectChange(option: SoulOption, isSelected: boolean, bubbling: boolean): Promise<void> {\n    if (isSelected) {\n      if (this.stateless) {\n        option.dataSelected = false;\n      } else {\n        this.deselectOtherOptions(option);\n        await this.updateSelectedOptionClone(option);\n      }\n      if (bubbling) {\n        this.soulOptionSelect.emit(option.value);\n      }\n    } else if (this.areAllOptionsDeselected() && !this.stateless) {\n      this.emptyElement(this.selectionElement);\n      if (bubbling) {\n        this.soulOptionSelect.emit(null);\n      }\n    }\n  }\n\n\n  @Watch('disabled')\n  public onDisabledChange() {\n    const selectedElements = this.getOptions().filter(option => option.dataSelected);\n    selectedElements.forEach(selectedElement => this.updateSelectedOptionClone(selectedElement));\n  }\n\n  public async onKeyUp(keyboardEvent: KeyboardEvent): Promise<void> {\n    if (this.searchable && !isKeyboardKeyAction(keyboardEvent)) {\n      await this.setFilterDataAttributes(this.inputElement.value.trim());\n      const matchingOptions = this.getMatchingOptions();\n      this.soulSearch.emit({searchTerm: this.inputElement.value, matches: matchingOptions.length, matchingOptions: matchingOptions});\n      if (!this.isPopoverVisible) {\n        this.togglePopover();\n      }\n      this.highlightNotFilteredOption();\n      this.showEmptyOptionMessage = this.getOptions().every(option => option.hasAttribute(SelectHelper.FILTER_ATTRIBUTE));\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <div class={{\n          'soul-select': true,\n          'soul-select--critical': this.status === 'critical',\n          'soul-select--warning': this.status === 'warning'\n        }}\n             ref={el => this.selectElement = el as HTMLDivElement}>\n          {!this.inputOnly && (isNotEmpty(this.label) || isNotEmpty(this.additionalLabel)) ?\n            <div class=\"soul-select__label\">\n              <label htmlFor={this.instanceId}>{this.label}\n                {isNotEmpty(this.additionalLabel) ?\n                  <span class=\"soul-select__additional-label\">{this.additionalLabel}</span> : ''\n                }\n              </label>\n            </div> : ''\n          }\n          <div class=\"soul-select__control\">\n            {this.renderTooltip()}\n            <input disabled={this.disabled}\n                   onKeyDown={this.onKeyDown.bind(this)}\n                   onKeyUp={this.onKeyUp.bind(this)}\n                   onClick={this.togglePopover.bind(this)}\n                   id={this.instanceId}\n                   type=\"text\"\n                   spellcheck={false}\n                   class=\"soul-select__input\"\n                   readonly={!this.searchable}\n                   pattern=\".+\"\n                   required\n                   ref={el => this.inputElement = el as HTMLInputElement}/>\n            {!this.stateless ? <div class=\"soul-select__selection\" ref={el => this.selectionElement = el as HTMLDivElement}></div> : ''}\n            <div class=\"soul-select__placeholder\" ref={el => this.placeholderElement = el as HTMLDivElement}>\n              {isNotEmpty(this.placeholder) ?\n                <span class=\"soul-label soul-label--reduced\">{this.placeholder}</span> : ''\n              }\n            </div>\n            <div class=\"soul-select__input-icon\">\n              <soul-icon name=\"down\" size=\"s\" color=\"reduced\"></soul-icon>\n            </div>\n          </div>\n          {this.shouldRenderStatusMessage ?\n            <div class=\"soul-select__status-message\">{this.statusMessage}</div> : ''\n          }\n          {!this.inputOnly && isNotEmpty(this.helpText) ?\n            <div class=\"soul-select__help\">{this.helpText}</div> : ''\n          }\n          <div class=\"soul-select__option-clone\" ref={el => this.optionCloneElement = el as HTMLDivElement}></div>\n          <div class=\"soul-select__action\">\n            <slot ref={el => this.actionElement = el as HTMLSlotElement} name=\"action\"></slot>\n          </div>\n        </div>\n        <div class=\"soul-select__options\" {...{'popover': ''}} ref={el => this.optionListElement = el as HTMLPopoverElement}>\n          {this.showEmptyOptionMessage ? <div class=\"soul-select__options-message\"><span class=\"soul-label soul-label--reduced\">{this.noOptionsMessage}</span></div> : ''}\n          <slot ref={el => this.optionsElement = el as HTMLSlotElement} onSlotchange={this.setPlaceholderElementHeight.bind(this)}></slot>\n        </div>\n      </Host>\n    );\n  }\n\n  public get shouldRenderTooltip(): boolean {\n    return this.inputOnly && (this.shouldRenderStatusMessage || isNotEmpty(this.helpText));\n  }\n\n  public get shouldRenderStatusMessage(): boolean {\n    return this.isStatusValid  && isNotEmpty(this.statusMessage);\n  }\n\n  private get isStatusValid(): boolean {\n    return this.supportedStatuses.includes(this.status);\n  }\n\n  private renderTooltip() {\n    return this.shouldRenderTooltip ? (\n      <soul-tooltip text={this.shouldRenderStatusMessage ? this.statusMessage : this.helpText} status={this.status ? this.status : undefined} position={this.tooltipPosition}\n                    ref={el => this.tooltipElement = el as HTMLSoulTooltipElement}></soul-tooltip>) : '';\n  }\n\n  private getMatchingOptions(): HTMLSoulOption[] {\n    return this.getOptions().filter(option => !this.isOptionFiltered(option) && !option.nonFilterable);\n  }\n\n  private highlightNotFilteredOption(): void {\n    const highlightedOption = this.getOptions()[this.highlightedIndex];\n    if (!this.isOptionUsable(highlightedOption)) {\n      this.highlightFirstNotFilteredOption();\n    }\n  }\n\n  private isOptionFiltered(option: HTMLSoulOption): boolean {\n    return option.hasAttribute(SelectHelper.FILTER_ATTRIBUTE);\n  }\n\n  private highlightFirstNotFilteredOption(): void {\n    this.removeCurrentOptionHighlight();\n    const firstVisibleOptionIndex = this.getOptions().findIndex((option) => this.isOptionUsable(option));\n    if (firstVisibleOptionIndex !== -1) {\n      this.highlightOptionByIndex(firstVisibleOptionIndex);\n    }\n  }\n\n  private async setFilterDataAttributes(term: string): Promise<void> {\n    const options = this.getOptions().filter(option => !option.nonFilterable);\n    const allMatchPromises: Promise<void>[] = [];\n    for (const soulOption of options) {\n      if (this.isOptionHidden(soulOption)) {\n        soulOption.setAttribute(SelectHelper.FILTER_ATTRIBUTE, 'true');\n      } else if (this.searchFunction && term !== '') {\n        this.searchFunction(soulOption, term) ?\n          soulOption.removeAttribute(SelectHelper.FILTER_ATTRIBUTE) :\n          soulOption.setAttribute(SelectHelper.FILTER_ATTRIBUTE, 'true');\n      } else {\n        allMatchPromises.push(soulOption.match(this.inputElement.value).then(matches => {\n          matches ? soulOption.removeAttribute(SelectHelper.FILTER_ATTRIBUTE) : soulOption.setAttribute(SelectHelper.FILTER_ATTRIBUTE, 'true');\n        }));\n      }\n    }\n    await Promise.all(allMatchPromises);\n  }\n\n  private async onKeyDown(event: KeyboardEvent): Promise<void> {\n    switch (event.key) {\n      case Keymap.SPACE: {\n        this.onSpaceKeyDown(event);\n        break;\n      }\n      case Keymap.DOWN: {\n        this.openOrElse(() => this.highlightNextOption());\n        event.preventDefault();\n        break;\n      }\n      case Keymap.UP: {\n        this.openOrElse(() => this.highlightPreviousOption());\n        event.preventDefault();\n        break;\n      }\n      case Keymap.ENTER: {\n        this.openOrElse(async () => await this.selectHighlightedOption());\n        break;\n      }\n      case Keymap.ESC: {\n        if (this.isPopoverVisible) {\n          this.togglePopover();\n          await this.resetSearch();\n        }\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  private async selectOption(option: SoulOption): Promise<void> {\n    await this.resetSearch();\n    this.togglePopover();\n    if (!option.dataSelected) {\n      option.dataSelected = true;\n      await this.doOnSelectChange(option, option.dataSelected, true);\n    }\n  }\n\n  private async resetSearch(): Promise<void> {\n    if (this.searchable) {\n      this.inputElement.value = '';\n      await this.setFilterDataAttributes('');\n      this.showEmptyOptionMessage = false;\n      const matchingOptions = this.getMatchingOptions();\n      this.soulSearch.emit({searchTerm: '', matches: matchingOptions.length, matchingOptions: matchingOptions});\n    }\n  }\n\n  private areAllOptionsDeselected(): boolean {\n    return this.getOptions().every(option => !option.dataSelected);\n  }\n\n  private resetHighlight(): void {\n    this.getOptions().forEach(optionElement => optionElement.highlighted = false);\n  }\n\n  private async updateSelectedOptionClone(option: SoulOption): Promise<void> {\n    const selectedOptionClone = await option.clone();\n    selectedOptionClone.passive = true;\n    selectedOptionClone.selected = false;\n    selectedOptionClone.disabled = this.disabled;\n    this.emptyElement(this.selectionElement);\n    this.selectionElement?.appendChild(selectedOptionClone);\n  }\n\n  private emptyElement(element: HTMLElement): void {\n    while (element?.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  }\n\n  private deselectOtherOptions(exclude: SoulOption): void {\n    this.getOptions().forEach(option => {\n      if (option.instanceId !== exclude.instanceId) {\n        option.dataSelected = false;\n      }\n    });\n  }\n\n  private openOrElse(elseFunction: () => void | Promise<void>): void {\n    if (!this.isPopoverVisible) {\n      this.togglePopover();\n    } else {\n      elseFunction();\n    }\n  }\n\n  private togglePopover(): void {\n    if (this.isPopoverVisible) {\n      this.optionListElement.hidePopover();\n    } else {\n      this.setHighlightedOptionIndex();\n      this.optionListElement.showPopover();\n      this.isPopoverVisible = true;\n      this.popoverHelper.connect(this.inputElement, this.optionListElement, this.maxHeight);\n      this.scrollToHighlightedOption();\n    }\n  }\n\n  private async setPlaceholderElementHeight(): Promise<void> {\n    const firstOption = this.getOptions()[0];\n    if (firstOption) {\n      const clonedOption = await firstOption.clone();\n      this.optionCloneElement.replaceChildren(clonedOption);\n      this.placeholderElement.style.height = `${this.optionCloneElement.getBoundingClientRect().height}px`;\n    }\n  }\n\n  private onSpaceKeyDown(event: KeyboardEvent): void {\n    if (!this.isPopoverVisible) {\n      this.togglePopover();\n    }\n    if (this.disableSpaces) {\n      event.preventDefault();\n    }\n  }\n\n  private setHighlightedOptionIndex(): void {\n    this.highlightedIndex = this.getOptions().findIndex(option => option.dataSelected);\n  }\n\n  private removeCurrentOptionHighlight(): void {\n    const assignedElements = this.getOptions();\n    if (isDefined(assignedElements[this.highlightedIndex])) {\n      assignedElements[this.highlightedIndex].highlighted = false;\n    }\n  }\n\n  private isLastOptionHighlighted(): boolean {\n    return this.highlightedIndex + 1 === this.getOptions().length;\n  }\n\n  private isFirstOptionHighlighted(): boolean {\n    return this.highlightedIndex === 0;\n  }\n\n  private highlightOptionByIndex(index: number): void {\n    this.highlightedIndex = index;\n    const assignedElements = this.getOptions();\n    assignedElements[index].highlighted = true;\n  }\n\n  private highlightPreviousOption(): void {\n    if (!this.isFirstOptionHighlighted()) {\n      const previousIndex = this.getPreviousIndex(this.highlightedIndex);\n      if (previousIndex != this.highlightedIndex) {\n        this.removeCurrentOptionHighlight();\n        this.highlightOptionByIndex(previousIndex);\n        this.scrollUpToOption();\n      }\n    }\n  }\n\n  private highlightNextOption(): void {\n    if (!this.isLastOptionHighlighted()) {\n      const nextIndex = this.getNextIndex(this.highlightedIndex);\n      if (nextIndex != this.highlightedIndex) {\n        this.removeCurrentOptionHighlight();\n        this.highlightOptionByIndex(nextIndex);\n        this.scrollDownToOption();\n      }\n    }\n  }\n\n  private scrollUpToOption(): void {\n    const highlightedOption = this.getOptions()[this.highlightedIndex];\n    if (!this.isHighlightedOptionVisible(highlightedOption)) {\n      highlightedOption.scrollIntoView();\n    }\n  }\n\n  private scrollDownToOption(): void {\n    const highlightedOption = this.getOptions()[this.highlightedIndex];\n    if (!this.isHighlightedOptionVisible(highlightedOption)) {\n      const optionsListHeight = this.optionListElement.offsetHeight;\n      const optionHeight = highlightedOption.offsetHeight;\n      const scrollOffset = this.optionListElement.scrollTop;\n      const topOffset = (this.highlightedIndex * optionHeight) + optionHeight - scrollOffset - optionsListHeight;\n      this.optionListElement.scrollTo({top: topOffset + scrollOffset});\n    }\n  }\n\n  private isHighlightedOptionVisible(option: HTMLSoulOption): boolean {\n    const optionsListHeight = this.optionListElement.offsetHeight;\n    const optionHeight = option.offsetHeight;\n    const scrollOffset = this.optionListElement.scrollTop;\n\n    return (this.highlightedIndex * optionHeight) >= scrollOffset && (this.highlightedIndex * optionHeight) + optionHeight <= scrollOffset + optionsListHeight;\n  }\n\n  private getOptions(): HTMLSoulOption[] {\n    return this.optionsElement.assignedElements().reduce((previousValue, element) => {\n      if (element.tagName === 'SOUL-OPTION-GROUP') {\n        const elementOptions = Array.from(element.children) as HTMLSoulOption[];\n        previousValue.push(...elementOptions);\n      } else {\n        previousValue.push(element as HTMLSoulOption);\n      }\n      return previousValue;\n    }, [] as HTMLSoulOption[]);\n  }\n\n  private async selectHighlightedOption(): Promise<void> {\n    const assignedElements = this.getOptions();\n    const optionToSelect = assignedElements[this.highlightedIndex];\n    if (this.isOptionUsable(optionToSelect)) {\n      await this.selectOption(optionToSelect);\n    }\n  }\n\n  private scrollToHighlightedOption(): void {\n    setTimeout(() => {\n      const selectedOption = this.getOptions()[this.highlightedIndex];\n      if (selectedOption && !this.isHighlightedOptionVisible(selectedOption)) {\n        selectedOption.scrollIntoView();\n      }\n    }, 0);\n  }\n\n  private getPreviousIndex(index: number): number {\n    const previousIndex = index - 1;\n    if (previousIndex >= 0) {\n      const previousIndexOption = this.getOptions()[previousIndex];\n      return this.isOptionUsable(previousIndexOption) ? previousIndex : this.getPreviousIndex(previousIndex);\n    }\n    return this.highlightedIndex;\n  }\n\n  private getNextIndex(index: number): number {\n    const nextIndex = index + 1;\n    if (nextIndex < this.getOptions().length) {\n      const nextIndexOption = this.getOptions()[nextIndex];\n      return this.isOptionUsable(nextIndexOption) ? nextIndex : this.getNextIndex(nextIndex);\n    }\n    return this.highlightedIndex;\n  }\n\n  private setActionSlotVisibility(): void {\n    if (!this.inputOnly && this.actionElement.assignedElements().length > 0) {\n      this.selectElement.style.setProperty('--_soul-select-action-display', 'block');\n    } else {\n      this.selectElement.style.setProperty('--_soul-select-action-display', 'none');\n    }\n  }\n\n  private resizePlaceholderElement(entries: ResizeObserverEntry[]): void {\n    this.placeholderElement.style.height = `${entries[0].contentRect.height}px`;\n  }\n\n  private isOptionDisabled(option: HTMLSoulOption): boolean {\n    return option.disabled || option.hasAttribute(SelectHelper.GROUP_DISABLED_ATTRIBUTE);\n  }\n\n  private isOptionHidden(option: HTMLSoulOption): boolean {\n    return option.hidden || option.hasAttribute(SelectHelper.GROUP_HIDDEN_ATTRIBUTE);\n  }\n\n  private isOptionUsable(option: HTMLSoulOption): boolean {\n    return !(isUndefined(option) || this.isOptionDisabled(option) || this.isOptionHidden(option) || this.isOptionFiltered(option));\n  }\n\n  private setTooltipTriggerElement(): void {\n    if (isDefined(this.tooltipElement)) {\n      this.tooltipElement.triggerElement = this.inputElement;\n    }\n\n  }\n}\n\nlet selectId = 0;\n\ninterface HTMLPopoverElement extends HTMLDivElement {\n  showPopover: () => void;\n  hidePopover: () => void;\n  togglePopover: () => void;\n}\n\ntype HTMLSoulOption = HTMLSoulTextOptionElement | HTMLSoulAvatarOptionElement;\ntype SoulOption = SoulTextOption | SoulAvatarOption;\n\ntype SoulSelectSearchEvent = { searchTerm: string, matches: number, matchingOptions: HTMLSoulOption[] };\n\ninterface ToggleEvent extends Event {\n  newState: 'open' | 'closed';\n  oldState: 'open' | 'closed';\n}\n"],"version":3}