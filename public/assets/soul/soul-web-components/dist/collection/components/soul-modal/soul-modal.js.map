{"version":3,"file":"soul-modal.js","sourceRoot":"","sources":["../../../../../../../src/components/soul-modal/soul-modal.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, ComponentDidLoad, Element, Event, EventEmitter, Method, Prop, Watch, h } from \"@stencil/core\";\nimport { SizeHelper } from \"../../services/SizeHelper\";\nimport { TypeHelper } from \"../../services/TypeHelper\";\nimport { PositionHelper } from \"../../services/PositionHelper\";\nimport {isNotEmpty} from '../../utils/utils';\n\n@Component({\n  tag: 'soul-modal',\n  styleUrl: 'soul-modal.scss',\n  shadow: true\n})\nexport class SoulModal implements ComponentDidLoad {\n\n  @Prop({ reflect: true }) public closeButton: boolean = false;\n  @Prop({ reflect: true }) public closeWithEsc: boolean = false;\n  @Prop({ reflect: true }) public heading: string;\n  @Prop({ reflect: true }) public label: string;\n  @Prop({ mutable: true, reflect: true }) public open: boolean = false;\n  @Prop({ reflect: true }) public position: 'center' | 'side-right' | 'side-left' = 'center';\n  @Prop({ reflect: true }) public size: 's' | 'm' | 'l' | 'xl' = 'm';\n  @Prop({ reflect: true }) public type: 'neutral' | 'info' | 'warning' | 'critical' = 'neutral';\n\n  @Event() public soulClose: EventEmitter<void>;\n\n  @Element() public host: HTMLElement;\n  private readonly NO_FOOTER_CLASS = 'soul-modal--no-footer';\n  private readonly CLOSING_ANIMATION_CLASS = 'soul-modal--closing';\n  private dialog: HTMLDialogElement;\n  private typesWithIndicator = ['info', 'warning', 'critical'];\n  private supportedTypes = [...this.typesWithIndicator, 'neutral'];\n  private supportedSizes = ['s', 'm', 'l', 'xl'];\n  private supportedPositions = ['center', 'side-right', 'side-left'];\n  private sizeHelper = new SizeHelper();\n  private typeHelper = new TypeHelper();\n  private positionHelper = new PositionHelper();\n\n  @Method()\n  public async show() {\n    this.open = true;\n  }\n\n  @Method()\n  public async close() {\n    this.open = false;\n  }\n\n  componentDidLoad(): void {\n    this.checkEmtpyButtons();\n    this.addCancelListener();\n    this.validateType();\n    this.validateSize();\n    this.validatePosition();\n    if (this.open) {\n      this.dialog.showModal();\n    }\n  }\n\n  render() {\n    return (\n      <dialog class={{\n        'soul-modal': true,\n        'soul-modal--side-right': this.position === 'side-right',\n        'soul-modal--side-left': this.position === 'side-left',\n        'soul-modal--center': this.position === 'center' || !this.isPositionSupported(),\n        [this.isSizeSupported() ? `soul-modal--${this.size}` : 'soul-modal--m']: true\n      }} onClose={() => this.emitCloseEvent()}\n        ref={el => this.dialog = el as HTMLDialogElement}>\n        <section class=\"soul-modal__window\">\n          {this.closeButton ? <div class=\"soul-modal__close\">\n            <button onClick={() => {\n              this.close();\n            }} class=\"soul-button soul-button--default soul-button--compact soul-button--icon-only\">\n              <span class=\"soul-button__icon\"><soul-icon name=\"close\"></soul-icon></span>\n            </button>\n          </div> : ''}\n          <header class=\"soul-modal__header\">\n            {this.isTypeWithIndicator(this.type) ? <soul-indicator class=\"soul-modal__indicator\" type={this.type}></soul-indicator> : ''}\n            <div class=\"soul-modal__header-content\">\n              {isNotEmpty(this.label) ? <span class=\"soul-modal__label\">{this.label}</span> : ''}\n              <h1 class=\"soul-modal__heading\">{this.heading}</h1>\n            </div>\n          </header>\n          <article class=\"soul-modal__body\">\n            <div class=\"soul-modal__top-content\">\n              <slot name=\"top-content\"></slot>\n            </div>\n            <div class=\"soul-modal__content\">\n              <slot name=\"content\"></slot>\n            </div>\n          </article>\n          <footer class=\"soul-modal__footer\">\n            <slot onSlotchange={() => this.checkEmtpyButtons()} name=\"buttons\"></slot>\n          </footer>\n        </section>\n      </dialog>\n    );\n  }\n\n  @Watch('type')\n  private validateType(): void {\n    this.typeHelper.validateType(this.supportedTypes, this.type);\n  }\n\n  @Watch('size')\n  private validateSize(): void {\n    this.sizeHelper.validateSize(this.supportedSizes, this.size);\n  }\n\n  @Watch('position')\n  private validatePosition(): void {\n    this.positionHelper.validatePosition(this.supportedPositions, this.position);\n  }\n\n  @Watch('open')\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore : method is declared but never used\n  private toggleDialog(): void {\n    this.open ? this.dialog?.showModal() : this.animateClose();\n  }\n\n  private addCancelListener(): void {\n    this.dialog.addEventListener('cancel', (event: Event) => {\n      event.preventDefault();\n\n      if (this.closeWithEsc) {\n        this.close();\n      }\n    });\n  }\n\n  private isTypeWithIndicator(type: 'neutral' | 'info' | 'warning' | 'critical'): type is 'info' | 'warning' | 'critical' {\n    return type && this.typeHelper.isValidType(this.typesWithIndicator, type);\n  }\n\n  private isSizeSupported(): boolean {\n    return this.size && this.sizeHelper.isValidSize(this.supportedSizes, this.size);\n  }\n\n  private isPositionSupported(): boolean {\n    return this.position && this.positionHelper.isValidPosition(this.supportedPositions, this.position);\n  }\n\n  private emitCloseEvent(): void {\n    this.soulClose.emit();\n  }\n\n  private animateClose(): void {\n    this.dialog.classList.add(this.CLOSING_ANIMATION_CLASS);\n    this.dialog.addEventListener('animationend', () => {\n      this.dialog.close();\n      this.dialog.classList.remove(this.CLOSING_ANIMATION_CLASS);\n    }, { once: true })\n  }\n\n  private checkEmtpyButtons(): void {\n    this.host.querySelector('[slot=\"buttons\"]') ?\n      this.dialog.classList.remove(this.NO_FOOTER_CLASS) :\n      this.dialog.classList.add(this.NO_FOOTER_CLASS);\n  }\n}\n"]}