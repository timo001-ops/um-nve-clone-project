import{r as t,h as s,H as i}from"./p-7d6078b7.js";import{a as o,c as e,o as r,f as l,h as n}from"./p-d90a943a.js";import{i as h,e as a}from"./p-2327b221.js";class d{constructor(t,s){this.tooltipPosition="top-start";this.showTooltip=()=>{var t;if(this.reference.matches(":focus")||this.reference.matches(":hover")){(t=this.tooltip)===null||t===void 0?void 0:t.showPopover()}};this.hideTooltip=()=>{if(this.canHideTooltip()){this.tooltip.hidePopover()}};this.reference=t;this.tooltip=s;this.addTriggerEventListeners()}connect(){if(!this.tooltip||!this.reference){return}this.tooltip.setAttribute("popover","manual");const t=()=>{e(this.reference,this.tooltip,{strategy:"fixed",placement:this.tooltipPosition,middleware:[r(1),l({elementContext:"reference"}),l({boundary:document.body}),n({elementContext:"reference"})]}).then((({x:t,y:s,middlewareData:i})=>{if(i.hide){Object.assign(this.tooltip.style,{visibility:i.hide.referenceHidden?"hidden":"visible"})}Object.assign(this.tooltip.style,{left:`${t}px`,top:`${s}px`})}))};this.stopAutoUpdate=o(this.reference,this.tooltip,t)}disconnect(){this.removeTriggerEventListeners();this.stopAutoUpdate&&this.stopAutoUpdate()}setTooltipPosition(t){this.tooltipPosition=t}addTriggerEventListeners(){this.reference.addEventListener("mouseenter",this.showTooltip);this.reference.addEventListener("mouseleave",this.hideTooltip);this.reference.addEventListener("focus",this.showTooltip);this.reference.addEventListener("blur",this.hideTooltip)}removeTriggerEventListeners(){this.reference.removeEventListener("mouseenter",this.showTooltip);this.reference.removeEventListener("mouseleave",this.hideTooltip);this.reference.removeEventListener("focus",this.showTooltip);this.reference.removeEventListener("blur",this.hideTooltip)}canHideTooltip(){return!this.reference.matches(":focus")&&!this.reference.matches(":hover")}}const u=':root{--soul-assets-folder:./assets/}@font-face{font-family:"soul-sans";src:url("./assets//soul-roman.woff2") format("woff2");font-weight:100 700;font-display:swap}@font-face{font-family:"soul-mono";src:url("./assets//soul-mono.woff2") format("woff2");font-display:swap}@font-face{font-family:"soul";src:url("./assets//soul-icons.woff2") format("woff2");font-display:block}.soul-tooltip{position:fixed;padding:0.125rem 0.25rem;border-radius:0.25rem;margin:0;border:0;background-color:var(--soul-theme-color-neutral-800);color:hsl(0, 0%, 100%)}.soul-tooltip--hidden{visibility:hidden}:host([status=warning]) .soul-tooltip{background-color:hsl(42, 78%, 60%);color:var(--soul-theme-color-text-on-light)}:host([status=critical]) .soul-tooltip{background-color:hsl(0, 67%, 44%);color:hsl(0, 0%, 100%)}';const c=class{constructor(s){t(this,s);this.position="top-start";this.status=undefined;this.triggerId=undefined;this.text=undefined;this.triggerElement=undefined}disconnectedCallback(){var t;(t=this.tooltipHelper)===null||t===void 0?void 0:t.disconnect()}componentDidLoad(){this.initializeTooltipHelper()}render(){return s(i,null,s("div",{class:{"soul-tooltip":true,"soul-tooltip--hidden":this.hideTooltip},ref:t=>this.tooltipElement=t,role:"tooltip"},this.text))}get hideTooltip(){return!h(this.triggerId)&&!h(this.triggerElement)||(a(this.text)||!h(this.text))}initializeTooltipHelper(){var t;const s=this.getTriggerElement();(t=this.tooltipHelper)===null||t===void 0?void 0:t.disconnect();if(h(s)){this.tooltipHelper=new d(s,this.tooltipElement);this.setTooltipPosition();this.tooltipHelper.connect();this.tooltipHelper.showTooltip()}}setTooltipPosition(){var t;(t=this.tooltipHelper)===null||t===void 0?void 0:t.setTooltipPosition(this.position)}getTriggerElement(){return h(this.triggerElement)?this.triggerElement:document.getElementById(this.triggerId)}static get watchers(){return{triggerId:["initializeTooltipHelper"],triggerElement:["initializeTooltipHelper"],position:["setTooltipPosition"]}}};c.style=u;export{c as soul_tooltip};
//# sourceMappingURL=p-5e06f1ab.entry.js.map